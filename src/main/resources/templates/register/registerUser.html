<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-indigo-100 flex items-center h-screen">

<div class="flex flex-col items-center bg-amber-50 w-1/3 h-3/5 min-w-[300px]
 max-w-[800px] min-h-[400px] max-h-[600px] rounded-xl container mx-auto gap-y-6 overflow-hidden shadow-xl">


    <div class="bg-purple-200 w-full flex justify-center overflow-hidden">
        <img src="https://cadastro-login-front.onrender.com/images/imagem-fofa.png" alt="Imagem fofa" class="w-32 h-32 sm:w-48 sm:h-48 rounded-lg">
    </div>


    <form class="w-full max-w-xs p-2 " id="submitForm" th:action="@{/user/create}" method="post" th:object="${userCreate}">
        <input type="text" th:field="*{usuario}" required placeholder="Usuário:" class="w-full px-4 py-2 border border-gray-300 rounded-lg
         focus:outline-none focus:ring-2 focus:ring-violet-200 mb-3">

        <input type="text" th:field="*{email}" required placeholder="Email:" class="w-full px-4 py-2 border border-gray-300 rounded-lg
         focus:outline-none focus:ring-2 focus:ring-violet-200 mb-3">

        <input type="password" th:field="*{senha}" required placeholder="Senha:" class="w-full px-4 py-2 border border-gray-300 rounded-lg
         focus:outline-none focus:ring-2 focus:ring-violet-200 mb-3" id="password">

        <input type="password" placeholder="Confirmar senha:" class="w-full px-4 py-2 border border-gray-300 rounded-lg
         focus:outline-none focus:ring-2 focus:ring-violet-200 mb-3" id="confirmPassword">

        <button class="bg-violet-200 rounded-lg p-1 text-violet-900 w-full mb-5 font-bold ">Fazer cadastro</button>

        <p class="text-red-400 font-bold" th:if="${message_error}" th:text="${message_error}"></p>
        <p class="text-red-400 hidden" id="password_error"> As senhas não conferem</p>

        <p class="mt-t text-blue">
            Já tem uma conta? <a href="/user/login" class=" text-center text-indigo-700 font-bold  hover:text-indigo-500"> Faça login aqui</a>
        </p>

    </form>
</div>

</body>

<script>
    document.getElementById("submitForm").addEventListener("submit", (event) => {
      var password = document.getElementById("password").value;
      var confirmPassword = document.getElementById("confirmPassword").value;

      if(password !== confirmPassword){
          document.getElementById("password_error").classList.remove("hidden")
          event.preventDefault();
      }

    });


</script>
</html>